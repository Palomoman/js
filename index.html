<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Valoraciones</title>
</head>

<body>
    <style>
        .container {
            display: flex;
            justify-content: space-between;
        }
    </style>
    <div class="card">
        <div class="card-body">
            <div class="container">
                <div class="skills">
                    <strong>Soft Skills</strong><br>
                    <select class="form-select" aria-label="Default select example" id="skill"></select>
                </div>
                <div class="valoracion">
                    <strong>Valoración</strong><br>
                    <select class="form-select" aria-label="Default select example" id="valoracion"></select>
                </div>
            </div>
            <button type="button" class="btn btn-primary mt-2" onclick="addArray()">Añadir</button>
        </div>
    </div>
    <table class="table table-striped" id="myTable">
        <thead>
            <tr>
                <th scope="col">Soft Skill</th>
                <th scope="col">Valoración</th>
            </tr>
        </thead>
        <tbody>
            <tr>
            </tr>
        </tbody>
    </table>
    <script>
        var select = document.getElementById("skill");
        var options = ['Flexibilidad', 'Responsabilidad', 'Autonomía', 'Sociabilidad', 'Evolución'];

        for (var i = 0; i < options.length; i++) {
            var opt = options[i];
            var el = document.createElement("option");
            el.textContent = opt;
            el.value = opt;
            select.appendChild(el);
        }

        var select2 = document.getElementById("valoracion");
        var options2 = ['0', '1', '2', '3'];

        for (var i = 0; i < options2.length; i++) {
            var opt = options2[i];
            var el = document.createElement("option");
            el.textContent = opt;
            el.value = opt;
            select2.appendChild(el);
        }
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        var valoraciones = [];
        var index = 0;

        function addArray() {
            const valoration = new Object();
            valoration.skill = document.getElementById("skill").value;
            valoration.number = document.getElementById("valoracion").value;
            valoraciones.push(valoration);
            showArray(valoration);
            console.log(valoraciones);
        }

        function showArray(valoration) {
            var table = document.getElementById("myTable");
            var row = table.insertRow(myTable.lenght);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            cell1.innerHTML = valoration.skill;
            cell2.innerHTML = valoration.number;
            cell3.innerHTML = '<button type="button" onclick="removeRow()" name="boton" class="btn btn-danger">Eliminar</button>';
            //var button = document.getElementsByName('boton');
            //button.id = index;
            //console.log('El boton ' + index + ' tiene como id ' + button.id);
            //index++;
        }

        function removeRow() {
            var td = event.target.parentNode;
            var tr = td.parentNode;
            tr.parentNode.removeChild(tr);

            //console.log('estoy apretando el boton ' + this.id)

        }
    </script>
</body>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</html>